platform: linux

image_resource:
  type: docker-image
  source:
    repository: maven
    tag: latest
    
inputs:
  - name: branch-master
outputs:
  - name: mvn-output
  
#run:
#  path: "mvn"
#  args: ["-e","-X","-f", "branch-master/AppDemo/pom.xml", "test"]

#run:
#  path: /bin/bash
#  args: ["set -e -x mvn -f branch-master/AppDemo/pom.xml test cp branch-master/AppDemo/target/ mvn-output/"]

run:
  path: /bin/bash
  args: ["branch-master/AppDemo/output.sh branch-master"]